{"failedCount":1,"prefixedPath":"classpath:drivetecTestCases\/features\/postconfiguration.feature","packageQualifiedName":"drivetecTestCases.features.postconfiguration","loopIndex":-1,"relativePath":"drivetecTestCases\/features\/postconfiguration.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1240619200,"errorMessage":"js failed:\n>>>>\n01: karate.callSingle('classpath:drivetecTestCases\/features\/postproject.feature')\n<<<<\norg.graalvm.polyglot.PolyglotException: js failed:\n>>>>\n01: karate.set('projectId', projectId)\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"projectId\" is not defined\n- <js>.:program(Unnamed:1)\n\nclasspath:drivetecTestCases\/features\/postproject.feature:29\n- com.intuit.karate.core.ScenarioBridge.callSingle(ScenarioBridge.java:213)\n- com.intuit.karate.core.ScenarioBridge.callSingle(ScenarioBridge.java:158)\n- <js>.:program(Unnamed:1)\n\nclasspath:drivetecTestCases\/features\/postconfiguration.feature:8","startTime":1732525831692,"endTime":1732525832933,"millis":1240.6192,"status":"failed"},"step":{"comments":["# This runs before each scenario and generates the ProjectId once"],"background":true,"line":8,"prefix":"*","index":0,"text":"def projectId = karate.callSingle('classpath:drivetecTestCases\/features\/postproject.feature')"},"stepLog":"14:40:32.922 callSingle() will cache an exception\n14:40:32.922 << lock released, cached callSingle: classpath:drivetecTestCases\/features\/postproject.feature\n14:40:32.922 callSingle() cached result is an exception\n14:40:32.922 classpath:drivetecTestCases\/features\/postconfiguration.feature:8\n* def projectId = karate.callSingle('classpath:drivetecTestCases\/features\/postproject.feature')\njs failed:\n>>>>\n01: karate.callSingle('classpath:drivetecTestCases\/features\/postproject.feature')\n<<<<\norg.graalvm.polyglot.PolyglotException: js failed:\n>>>>\n01: karate.set('projectId', projectId)\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"projectId\" is not defined\n- <js>.:program(Unnamed:1)\n\nclasspath:drivetecTestCases\/features\/postproject.feature:29\n- com.intuit.karate.core.ScenarioBridge.callSingle(ScenarioBridge.java:213)\n- com.intuit.karate.core.ScenarioBridge.callSingle(ScenarioBridge.java:158)\n- <js>.:program(Unnamed:1)\n\nclasspath:drivetecTestCases\/features\/postconfiguration.feature:8\n","callResults":[{"failedCount":1,"prefixedPath":"classpath:drivetecTestCases\/features\/postproject.feature","packageQualifiedName":"drivetecTestCases.features.postproject","loopIndex":-1,"relativePath":"drivetecTestCases\/features\/postproject.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":23716900,"startTime":1732525831692,"endTime":1732525831716,"millis":23.7169,"status":"passed"},"step":{"comments":["# unique project name with \"TPJ\" prefix and a 5-digit number"],"line":6,"prefix":"*","index":0,"text":"def uniqueName = 'TPJ' + (java.lang.System.currentTimeMillis() % 100000)"},"stepLog":"14:40:31.502 karate.env system property was: null \n14:40:31.692 >> lock acquired, begin callSingle: classpath:drivetecTestCases\/features\/postproject.feature\n"},{"result":{"nanos":27306800,"startTime":1732525831722,"endTime":1732525831749,"millis":27.3068,"status":"passed"},"step":{"endLine":19,"comments":["# Request Payload for creating a Project with dynamic Name"],"line":9,"prefix":"*","docString":"{\n    \"Id\": \"579816e4-6653-4794-b435-a885f32e28d7\",\n    \"Name\": \"#(uniqueName)\",\n    \"Address\": \"Hyderabad, Telangana, India\",\n    \"Description\": \"\",\n    \"CreatedBy\": \"579816e4-6653-4794-b435-a885f32e28d7\",\n    \"ModifiedBy\": \"579816e4-6653-4794-b435-a885f32e28d7\"\n}","index":1,"text":"def projectPayload ="}},{"result":{"nanos":695300,"startTime":1732525831754,"endTime":1732525831755,"millis":0.6953,"status":"passed"},"step":{"line":21,"prefix":"Given","index":2,"text":"url apiUrl + '\/Projects'"}},{"result":{"nanos":3548600,"startTime":1732525831754,"endTime":1732525831758,"millis":3.5486,"status":"passed"},"step":{"line":22,"prefix":"And","index":3,"text":"request projectPayload"}},{"result":{"nanos":1135227600,"startTime":1732525831754,"endTime":1732525832889,"millis":1135.2276,"status":"passed"},"step":{"line":23,"prefix":"When","index":4,"text":"method post"},"stepLog":"14:40:31.864 request:\n1 > POST https:\/\/dev-drivetec-apis.schuecodigitalsolutions.com\/Projects\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 223\n1 > Host: dev-drivetec-apis.schuecodigitalsolutions.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.12)\n1 > Accept-Encoding: gzip,deflate\n{\"Id\":\"579816e4-6653-4794-b435-a885f32e28d7\",\"Name\":\"TPJ31707\",\"Address\":\"Hyderabad, Telangana, India\",\"Description\":\"\",\"CreatedBy\":\"579816e4-6653-4794-b435-a885f32e28d7\",\"ModifiedBy\":\"579816e4-6653-4794-b435-a885f32e28d7\"}\n\n14:40:32.890 response time in milliseconds: 1019\n1 < 200\n1 < Content-Type: application\/json; charset=utf-8\n1 < Date: Mon, 25 Nov 2024 09:10:29 GMT\n1 < Server: Microsoft-IIS\/10.0\n1 < X-Powered-By: ASP.NET\n1 < Content-Length: 326\n1 < Connection: keep-alive\n{\r\n  \"Name\": \"TPJ31707\",\r\n  \"Description\": \"\",\r\n  \"Address\": \"Hyderabad, Telangana, India\",\r\n  \"Id\": \"d8010d07-e44d-44ab-b5ec-4e4afe6f43e0\",\r\n  \"CreatedOn\": \"2024-11-25T09:10:29.0678511+00:00\",\r\n  \"CreatedBy\": \"579816e4-6653-4794-b435-a885f32e28d7\",\r\n  \"ModifiedOn\": \"2024-11-25T09:10:29.0678522+00:00\",\r\n  \"ModifiedBy\": \"\"\r\n}\n\n"},{"result":{"nanos":19800,"startTime":1732525832890,"endTime":1732525832890,"millis":0.0198,"status":"passed"},"step":{"line":24,"prefix":"Then","index":5,"text":"status 200"}},{"result":{"nanos":16986700,"startTime":1732525832890,"endTime":1732525832907,"millis":16.9867,"status":"passed"},"step":{"line":25,"prefix":"And","index":6,"text":"match response.Id != null"}},{"result":{"nanos":1162600,"startTime":1732525832910,"endTime":1732525832911,"millis":1.1626,"status":"passed"},"step":{"line":26,"prefix":"*","index":7,"text":"def prjId = response.Id"}},{"result":{"nanos":10346500,"errorMessage":"js failed:\n>>>>\n01: karate.set('projectId', projectId)\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"projectId\" is not defined\n- <js>.:program(Unnamed:1)\n\nclasspath:drivetecTestCases\/features\/postproject.feature:29","startTime":1732525832910,"endTime":1732525832920,"millis":10.3465,"status":"failed"},"step":{"comments":["# Store the captured ProjectId for later use"],"line":29,"prefix":"*","index":8,"text":"karate.set('projectId', projectId)"},"stepLog":"14:40:32.922 classpath:drivetecTestCases\/features\/postproject.feature:29\n* karate.set('projectId', projectId)\njs failed:\n>>>>\n01: karate.set('projectId', projectId)\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"projectId\" is not defined\n- <js>.:program(Unnamed:1)\n\nclasspath:drivetecTestCases\/features\/postproject.feature:29\n"},{"result":{"nanos":0,"startTime":1732525832922,"endTime":1732525832922,"millis":0.0,"status":"skipped"},"step":{"comments":["# Log the generated unique project name"],"line":32,"prefix":"*","index":9,"text":"karate.log('Generated Project Name:', uniqueName)"}}],"line":3,"description":"","durationMillis":1219.0108,"failed":true,"error":"js failed:\n>>>>\n01: karate.set('projectId', projectId)\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"projectId\" is not defined\n- <js>.:program(Unnamed:1)\n\nclasspath:drivetecTestCases\/features\/postproject.feature:29","tags":["proj"],"executorName":"main","name":"Create Project and Use ProjectId","startTime":1732525831692,"refId":"[1:3]","endTime":1732525832922,"exampleIndex":-1}],"callDepth":1,"name":"Create Project and Use ProjectId in Subsequent Requests","description":"","resultDate":"2024-11-25 02:40:32 pm","durationMillis":1219.0108,"passedCount":0}]},{"result":{"nanos":0,"startTime":1732525832922,"endTime":1732525832922,"millis":0.0,"status":"skipped"},"step":{"background":true,"line":9,"prefix":"*","index":1,"text":"karate.log('Using ProjectId: ', projectId)"}},{"result":{"nanos":0,"startTime":1732525832922,"endTime":1732525832922,"millis":0.0,"status":"skipped"},"step":{"comments":["# Generate a unique name with \"Dataset\" prefix and a 4-digit number (0001, 0002, ...)"],"line":14,"prefix":"*","index":0,"text":"def counter = (java.lang.System.currentTimeMillis() % 10000) + 1  \/\/Generate a number between 1 and 10000"}},{"result":{"nanos":0,"startTime":1732525832922,"endTime":1732525832922,"millis":0.0,"status":"skipped"},"step":{"line":15,"prefix":"*","index":1,"text":"def formattedCounter = (counter.toString().length() < 4) ? ('0000' + counter).substring(counter.toString().length()) : counter.toString()"}},{"result":{"nanos":0,"startTime":1732525832922,"endTime":1732525832922,"millis":0.0,"status":"skipped"},"step":{"line":16,"prefix":"*","index":2,"text":"def positionName = 'Dataset' + formattedCounter  \/\/ Combine the prefix with the formatted counter"}},{"result":{"nanos":0,"startTime":1732525832922,"endTime":1732525832922,"millis":0.0,"status":"skipped"},"step":{"endLine":80,"comments":["# # Call the project feature to set projectId","# * callonce read('postproject.feature')","# # Retrieve the projectId","# * def projectId = karate.get('projectId')","# Request Payload for creating a Configuration with dynamic Name and ProjectId"],"line":25,"prefix":"*","docString":"{\n    \"Id\": \"00000000-0000-0000-0000-000000000000\",\n    \"ProjectId\": \"#(projectId.prjId)\",\n    \"Name\": \"#(positionName)\",\n    \"Description\": \"#(positionName)\",\n    \"CustomTags\": \"\",\n    \"CreatedBy\": \"579816e4-6653-4794-b435-a885f32e28d7\",\n    \"ModifiedBy\": \"579816e4-6653-4794-b435-a885f32e28d7\",\n    \"ApplicationName\": 1,\n    \"System\": \"\",\n    \"FacadeInclination\": 0,\n    \"OpeningType\": 1,\n    \"OpeningDirection\": 1,\n    \"OpeningWidth\": 1000,\n    \"VentOuterWidth\": 1230,\n    \"VentOuterHeight\": 1480,\n    \"VentWeight\": 70,\n    \"CalculateWeightWithGlass\": false,\n    \"WeightIncGlassOrThickness\": false,\n    \"GlassThickness\": 14,\n    \"ProfileWeightPerSerialMeter\": 2.5,\n    \"IsWindowOpeningCalculationByAngle\": 1,\n    \"RequiredOpeningStroke\": 400,\n    \"OpeningAngle\": 15,\n    \"WindLoad\": 120,\n    \"SnowLoad\": 0,\n    \"DrivePosition\": 2,\n    \"InstallationPosition\": 1,\n    \"ChainLengthConnectingRodHandle\": 5,\n    \"LockingMechanism\": 1,\n    \"Voltage\": 1,\n    \"DriveType\": 1,\n    \"TypeOfInstallation\": 2,\n    \"CalculationTypeForVentilation\": 1,\n    \"CalcVentilation\": 1,\n    \"GeometricArea\": 1,\n    \"SpecificExhaustDimension\": 30,\n    \"BuildingDepth\": 75,\n    \"RevealDepth\": 0,\n    \"RevealDepthRectangleAngle1\": 0,\n    \"RevealDepthRectangleAngle2\": 0,\n    \"HeightOfProfile\": 0,\n    \"HeightProfileRectangleAngle1\": 0,\n    \"HeightProfileRectangleAngle2\": 0,\n    \"AkippOrAtilt\": 0,\n    \"AdrehOrAturn\": 0,\n    \"Ageo\": 0,\n    \"MinPullingForceMax\": 0,\n    \"MinPushingForceMax\": 0,\n    \"MinPullingForcePermanent\": 0,\n    \"MinPushingForcePermanent\": 0,\n    \"ForceWithNegativeWind\": 0\n}","index":3,"text":"def dynamicPayload ="}},{"result":{"nanos":0,"startTime":1732525832922,"endTime":1732525832922,"millis":0.0,"status":"skipped"},"step":{"line":82,"prefix":"Given","index":4,"text":"url apiUrl + '\/Configurations'"}},{"result":{"nanos":0,"startTime":1732525832922,"endTime":1732525832922,"millis":0.0,"status":"skipped"},"step":{"line":83,"prefix":"And","index":5,"text":"request dynamicPayload"}},{"result":{"nanos":0,"startTime":1732525832922,"endTime":1732525832922,"millis":0.0,"status":"skipped"},"step":{"line":84,"prefix":"When","index":6,"text":"method post"}},{"result":{"nanos":0,"startTime":1732525832922,"endTime":1732525832922,"millis":0.0,"status":"skipped"},"step":{"line":85,"prefix":"Then","index":7,"text":"status 200"}},{"result":{"nanos":0,"startTime":1732525832922,"endTime":1732525832922,"millis":0.0,"status":"skipped"},"step":{"line":86,"prefix":"And","index":8,"text":"match response.Id != null"}},{"result":{"nanos":0,"startTime":1732525832922,"endTime":1732525832922,"millis":0.0,"status":"skipped"},"step":{"line":88,"prefix":"*","index":9,"text":"def configId = response.Id"}},{"result":{"nanos":0,"startTime":1732525832922,"endTime":1732525832922,"millis":0.0,"status":"skipped"},"step":{"line":89,"prefix":"*","index":10,"text":"karate.log('Generated Config ID:', configId)"}},{"result":{"nanos":0,"startTime":1732525832922,"endTime":1732525832922,"millis":0.0,"status":"skipped"},"step":{"line":90,"prefix":"*","index":11,"text":"karate.log('Generated Name:', dynamicPayload.Name)"}},{"result":{"nanos":0,"startTime":1732525832922,"endTime":1732525832922,"millis":0.0,"status":"skipped"},"step":{"line":91,"prefix":"*","index":12,"text":"karate.log('Generated Description:', dynamicPayload.Description)"}},{"result":{"nanos":0,"startTime":1732525832922,"endTime":1732525832922,"millis":0.0,"status":"skipped"},"step":{"line":92,"prefix":"*","index":13,"text":"karate.set('generatedData', { configId: configId, name: dynamicPayload.Name, description: dynamicPayload.Description })"}}],"line":11,"description":"","durationMillis":1240.6192,"failed":true,"error":"js failed:\n>>>>\n01: karate.callSingle('classpath:drivetecTestCases\/features\/postproject.feature')\n<<<<\norg.graalvm.polyglot.PolyglotException: js failed:\n>>>>\n01: karate.set('projectId', projectId)\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"projectId\" is not defined\n- <js>.:program(Unnamed:1)\n\nclasspath:drivetecTestCases\/features\/postproject.feature:29\n- com.intuit.karate.core.ScenarioBridge.callSingle(ScenarioBridge.java:213)\n- com.intuit.karate.core.ScenarioBridge.callSingle(ScenarioBridge.java:158)\n- <js>.:program(Unnamed:1)\n\nclasspath:drivetecTestCases\/features\/postconfiguration.feature:8","tags":["postconfig"],"executorName":"main","name":"Generate Config ID","startTime":1732525831470,"refId":"[1:11]","endTime":1732525832922,"exampleIndex":-1}],"callDepth":0,"name":"Test Configurations API","description":"","resultDate":"2024-11-25 02:40:32 pm","durationMillis":1240.6192,"passedCount":0}